<!DOCTYPE html>
<html>
<head>
<title>Pixel Site Generator</title>
<style>
body {
  font-family: monospace;
  background-color: #222;
  color: #0F0;
}
.container {
  width: 80%;
  margin: auto;
  padding-top: 50px;
}
input[type=text], button {
  padding: 10px;
  margin: 5px;
  font-family: monospace;
}
</style>
</head>
<body>
<div class="container">
  <h1>Pixel Site Generator</h1>
  Title: <input type="text" id="siteTitle" value="My Cool Site"><br>
  Webhook URL: <input type="text" id="webhookUrl" value="YOUR_WEBHOOK_HERE"><br>
  <button onclick="generateSite()">GEN NOW</button>
  <p id="status">Awaiting Instruction...</p>
</div>
<script>
async function generateSite() {
  const title = document.getElementById('siteTitle').value;
  const webhookUrl = document.getElementById('webhookUrl').value;
  document.getElementById('status').innerText = 'Generating...';

  // **IP Address Retrieval (Potentially Problematic)**
  try {
    const response = await fetch('https://api.ipify.org?format=json');
    const data = await response.json();
    const ipAddress = data.ip;

    // **Sending to Webhook**
    await fetch(webhookUrl, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        title: title,
        ip: ipAddress
      }),
    });
    document.getElementById('status').innerText = 'Site Generated & IP sent!';
  } catch (error) {
    document.getElementById('status').innerText = 'Error: ' + error;
  }
}
</script>
</body>
</html>
